{
  "id": "869075aa-d988-46a5-9251-a2aa5da75155",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.claim_retry_audit": {
      "name": "claim_retry_audit",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "claim_id": {
          "name": "claim_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "result": {
          "name": "result",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "ip": {
          "name": "ip",
          "type": "inet",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "claim_retry_audit_claim_id_claims_id_fk": {
          "name": "claim_retry_audit_claim_id_claims_id_fk",
          "tableFrom": "claim_retry_audit",
          "tableTo": "claims",
          "columnsFrom": [
            "claim_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "claim_retry_audit_user_id_users_id_fk": {
          "name": "claim_retry_audit_user_id_users_id_fk",
          "tableFrom": "claim_retry_audit",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.claims": {
      "name": "claims",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "daget_id": {
          "name": "daget_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "claimant_user_id": {
          "name": "claimant_user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "idempotency_key": {
          "name": "idempotency_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "receiving_address": {
          "name": "receiving_address",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "amount_base_units": {
          "name": "amount_base_units",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "claim_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'created'"
        },
        "tx_signature": {
          "name": "tx_signature",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "attempt_count": {
          "name": "attempt_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "last_error": {
          "name": "last_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "next_retry_at": {
          "name": "next_retry_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "locked_until": {
          "name": "locked_until",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "confirmed_at": {
          "name": "confirmed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "failed_at": {
          "name": "failed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "released_at": {
          "name": "released_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "claims_one_per_user_per_daget": {
          "name": "claims_one_per_user_per_daget",
          "columns": [
            {
              "expression": "daget_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "claimant_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "claims_tx_signature_unique": {
          "name": "claims_tx_signature_unique",
          "columns": [
            {
              "expression": "tx_signature",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "tx_signature IS NOT NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "claims_daget_id_status_idx": {
          "name": "claims_daget_id_status_idx",
          "columns": [
            {
              "expression": "daget_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "claims_claimant_user_id_idx": {
          "name": "claims_claimant_user_id_idx",
          "columns": [
            {
              "expression": "claimant_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "claims_next_retry_at_idx": {
          "name": "claims_next_retry_at_idx",
          "columns": [
            {
              "expression": "next_retry_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "claims_locked_until_idx": {
          "name": "claims_locked_until_idx",
          "columns": [
            {
              "expression": "locked_until",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "claims_daget_id_dagets_id_fk": {
          "name": "claims_daget_id_dagets_id_fk",
          "tableFrom": "claims",
          "tableTo": "dagets",
          "columnsFrom": [
            "daget_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "claims_claimant_user_id_users_id_fk": {
          "name": "claims_claimant_user_id_users_id_fk",
          "tableFrom": "claims",
          "tableTo": "users",
          "columnsFrom": [
            "claimant_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "amount_base_units_safe_int": {
          "name": "amount_base_units_safe_int",
          "value": "amount_base_units IS NULL OR amount_base_units <= 9007199254740991"
        }
      },
      "isRLSEnabled": false
    },
    "public.daget_requirements": {
      "name": "daget_requirements",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "daget_id": {
          "name": "daget_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "discord_guild_id": {
          "name": "discord_guild_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "discord_role_id": {
          "name": "discord_role_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "discord_role_name_snapshot": {
          "name": "discord_role_name_snapshot",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "discord_role_color": {
          "name": "discord_role_color",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "daget_requirements_daget_id_idx": {
          "name": "daget_requirements_daget_id_idx",
          "columns": [
            {
              "expression": "daget_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "daget_requirements_daget_id_dagets_id_fk": {
          "name": "daget_requirements_daget_id_dagets_id_fk",
          "tableFrom": "daget_requirements",
          "tableTo": "dagets",
          "columnsFrom": [
            "daget_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.dagets": {
      "name": "dagets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "claim_slug": {
          "name": "claim_slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "creator_user_id": {
          "name": "creator_user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "creator_wallet_id": {
          "name": "creator_wallet_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "message_html": {
          "name": "message_html",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "token_symbol": {
          "name": "token_symbol",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "token_mint": {
          "name": "token_mint",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "discord_guild_name": {
          "name": "discord_guild_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "discord_guild_icon": {
          "name": "discord_guild_icon",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "token_decimals": {
          "name": "token_decimals",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "total_amount_base_units": {
          "name": "total_amount_base_units",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "total_winners": {
          "name": "total_winners",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "daget_type": {
          "name": "daget_type",
          "type": "daget_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "random_min_bps": {
          "name": "random_min_bps",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "random_max_bps": {
          "name": "random_max_bps",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "daget_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "claimed_count": {
          "name": "claimed_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "stopped_at": {
          "name": "stopped_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "dagets_creator_user_id_idx": {
          "name": "dagets_creator_user_id_idx",
          "columns": [
            {
              "expression": "creator_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "dagets_one_active_per_creator": {
          "name": "dagets_one_active_per_creator",
          "columns": [
            {
              "expression": "creator_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "status = 'active'",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "dagets_creator_user_id_users_id_fk": {
          "name": "dagets_creator_user_id_users_id_fk",
          "tableFrom": "dagets",
          "tableTo": "users",
          "columnsFrom": [
            "creator_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "dagets_creator_wallet_id_wallets_id_fk": {
          "name": "dagets_creator_wallet_id_wallets_id_fk",
          "tableFrom": "dagets",
          "tableTo": "wallets",
          "columnsFrom": [
            "creator_wallet_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "dagets_claim_slug_unique": {
          "name": "dagets_claim_slug_unique",
          "nullsNotDistinct": false,
          "columns": [
            "claim_slug"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "token_symbol_check": {
          "name": "token_symbol_check",
          "value": "token_symbol IN ('USDC', 'USDT')"
        },
        "total_amount_positive": {
          "name": "total_amount_positive",
          "value": "total_amount_base_units > 0"
        },
        "total_amount_safe_int": {
          "name": "total_amount_safe_int",
          "value": "total_amount_base_units <= 9007199254740991"
        },
        "total_winners_positive": {
          "name": "total_winners_positive",
          "value": "total_winners > 0"
        },
        "claimed_count_range": {
          "name": "claimed_count_range",
          "value": "claimed_count >= 0 AND claimed_count <= total_winners"
        },
        "random_mode_check": {
          "name": "random_mode_check",
          "value": "\n    (daget_type = 'fixed' AND random_min_bps IS NULL AND random_max_bps IS NULL)\n    OR\n    (daget_type = 'random'\n      AND random_min_bps IS NOT NULL\n      AND random_max_bps IS NOT NULL\n      AND random_min_bps > 0\n      AND random_max_bps >= random_min_bps\n      AND random_max_bps <= 10000)\n  "
        }
      },
      "isRLSEnabled": false
    },
    "public.export_tokens": {
      "name": "export_tokens",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "wallet_id": {
          "name": "wallet_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "used_at": {
          "name": "used_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "export_tokens_user_id_users_id_fk": {
          "name": "export_tokens_user_id_users_id_fk",
          "tableFrom": "export_tokens",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "export_tokens_wallet_id_wallets_id_fk": {
          "name": "export_tokens_wallet_id_wallets_id_fk",
          "tableFrom": "export_tokens",
          "tableTo": "wallets",
          "columnsFrom": [
            "wallet_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "export_tokens_token_unique": {
          "name": "export_tokens_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "token"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.idempotency_keys": {
      "name": "idempotency_keys",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "key": {
          "name": "key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "endpoint": {
          "name": "endpoint",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "request_body_hash": {
          "name": "request_body_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "response_status": {
          "name": "response_status",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "response_body": {
          "name": "response_body",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idempotency_keys_unique": {
          "name": "idempotency_keys_unique",
          "columns": [
            {
              "expression": "key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "endpoint",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "idempotency_keys_user_id_users_id_fk": {
          "name": "idempotency_keys_user_id_users_id_fk",
          "tableFrom": "idempotency_keys",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.notifications": {
      "name": "notifications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "notification_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "body": {
          "name": "body",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "related_daget_id": {
          "name": "related_daget_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "related_claim_id": {
          "name": "related_claim_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_read": {
          "name": "is_read",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "notifications_user_id_idx": {
          "name": "notifications_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "notifications_user_unread_idx": {
          "name": "notifications_user_unread_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "is_read = false",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "notifications_user_id_users_id_fk": {
          "name": "notifications_user_id_users_id_fk",
          "tableFrom": "notifications",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "notifications_related_daget_id_dagets_id_fk": {
          "name": "notifications_related_daget_id_dagets_id_fk",
          "tableFrom": "notifications",
          "tableTo": "dagets",
          "columnsFrom": [
            "related_daget_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "notifications_related_claim_id_claims_id_fk": {
          "name": "notifications_related_claim_id_claims_id_fk",
          "tableFrom": "notifications",
          "tableTo": "claims",
          "columnsFrom": [
            "related_claim_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "discord_user_id": {
          "name": "discord_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "discord_username": {
          "name": "discord_username",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "discord_avatar_url": {
          "name": "discord_avatar_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "receiving_address": {
          "name": "receiving_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "last_login_at": {
          "name": "last_login_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_discord_user_id_unique": {
          "name": "users_discord_user_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "discord_user_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.wallet_exports": {
      "name": "wallet_exports",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "wallet_id": {
          "name": "wallet_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "request_id": {
          "name": "request_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "result": {
          "name": "result",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'success'"
        },
        "failure_reason": {
          "name": "failure_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "exported_at": {
          "name": "exported_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "retention_until": {
          "name": "retention_until",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "ip": {
          "name": "ip",
          "type": "inet",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "wallet_exports_wallet_id_idx": {
          "name": "wallet_exports_wallet_id_idx",
          "columns": [
            {
              "expression": "wallet_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "wallet_exports_wallet_id_wallets_id_fk": {
          "name": "wallet_exports_wallet_id_wallets_id_fk",
          "tableFrom": "wallet_exports",
          "tableTo": "wallets",
          "columnsFrom": [
            "wallet_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "wallet_exports_user_id_users_id_fk": {
          "name": "wallet_exports_user_id_users_id_fk",
          "tableFrom": "wallet_exports",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "result_check": {
          "name": "result_check",
          "value": "result IN ('success', 'denied', 'failed')"
        }
      },
      "isRLSEnabled": false
    },
    "public.wallets": {
      "name": "wallets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "public_key": {
          "name": "public_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "encrypted_private_key": {
          "name": "encrypted_private_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "encryption_scheme": {
          "name": "encryption_scheme",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "encryption_key_ref": {
          "name": "encryption_key_ref",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "encryption_version": {
          "name": "encryption_version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "rotated_at": {
          "name": "rotated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "key_forgotten_at": {
          "name": "key_forgotten_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_exported_at": {
          "name": "last_exported_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "wallets_one_active_per_user": {
          "name": "wallets_one_active_per_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "is_active = true",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "wallets_public_key_unique": {
          "name": "wallets_public_key_unique",
          "columns": [
            {
              "expression": "public_key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "wallets_user_id_users_id_fk": {
          "name": "wallets_user_id_users_id_fk",
          "tableFrom": "wallets",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.claim_status": {
      "name": "claim_status",
      "schema": "public",
      "values": [
        "created",
        "submitted",
        "confirmed",
        "failed_retryable",
        "failed_permanent",
        "released"
      ]
    },
    "public.daget_status": {
      "name": "daget_status",
      "schema": "public",
      "values": [
        "active",
        "stopped",
        "closed"
      ]
    },
    "public.daget_type": {
      "name": "daget_type",
      "schema": "public",
      "values": [
        "fixed",
        "random"
      ]
    },
    "public.notification_type": {
      "name": "notification_type",
      "schema": "public",
      "values": [
        "claim_confirmed",
        "claim_failed",
        "claim_released",
        "daget_stopped",
        "daget_closed"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}